language: php
before_script:
    - 'sudo apt-get -y purge apache.*'
    - 'sudo apt-get -y purge apache2*'
    - 'sudo apt-get -y purge php.*'
    - 'sudo add-apt-repository -y ppa:ondrej/php'
    - 'sudo apt update'
    - 'sudo apt -y install php5.6 php5.6-mysql php5.6-mbstring libapache2-mod-php5.6'
    - 'sudo service apache2 restart'
    - 'php -v'
    - 'cd /var/www/html'
    - 'sudo git clone https://github.com/jhonvegamas/phpunit_codeigniter.git'
    - 'sudo chmod -R 777 phpunit_codeigniter/'
    - 'cd phpunit_codeigniter'
    - 'composer install'
    - 'cd ..'
    - 'sudo chmod 777 -R phpunit_codeigniter'
    - 'ls'
    - 'cd phpunit_codeigniter'

script:
    - 'php test.php'
    - './vendor/bin/phpunit application/tests --colors'
email:
    on_success: never # default: change
    on_failure: never # default: always
